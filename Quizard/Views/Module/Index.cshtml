@using Microsoft.AspNetCore.Identity
@inject SignInManager<User> SignInManager
@model Quizard.ViewModels.ModuleViewModel

<h1> Modules </h1>


<br />

<body>
    <div class="quiz-table">
        <table id="example" class="display" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>Module</th>
                    <th>Description</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Modules)
                {
                    <tr class="table-row">
                        <td>@item.ModuleCode</td>
                        <td>@item.Description <br /></td>
                        <td>
                            <button type="submit" class="button-table" onclick="DeleteModule(@item.Id)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="dash-icons"><path xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 6l.934 13.071A1 1 0 007.93 20h8.138a1 1 0 00.997-.929L18 6m-6 5v4m8-9H4m4.5 0l.544-1.632A2 2 0 0110.941 3h2.117a2 2 0 011.898 1.368L15.5 6" /></svg>
                                Delete
                            </button>
                            <button type="submit" class="button-table" data-toggle="module-edit-modal" data-url="@Url.Action("ShowEditModuleModal", "Module", new { id = @item.Id  })">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="dash-icons"><path xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.5 7.5l3 3M4 20v-3.5L15.293 5.207a1 1 0 011.414 0l2.086 2.086a1 1 0 010 1.414L7.5 20H4z"/></svg>
                                Edit
                            </button>
                            <button type="submit" class="button-table" data-toggle="student-enroll-modal" data-url="@Url.Action("ShowEnrollModuleModal", "Module", new { id = @item.Id })">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="dash-icons"><path xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11h3m0 0h3m-3 0v3m0-3V8m-3 11v-1.25c0-2.071-1.919-3.75-4.286-3.75H7.286C4.919 14 3 15.679 3 17.75V19m9-11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                                Enroll Students
                            </button>
                            <button type="submit" class="button-table" data-toggle="student-remove-modal" data-url="@Url.Action("ShowRemoveStudentModal", "Module", new { id = @item.Id })">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="dash-icons"><path xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11h6m-6 8v-1.25c0-2.071-1.919-3.75-4.286-3.75H8.286C5.919 14 4 15.679 4 17.75V19m9-11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                                View and Remove Students
                            </button>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</body>

<br />

<button type="submit" class="button-table" id="add-mod-btn" data-toggle="add-module-modal" data-url="@Url.Action("ShowAddModuleModal", "Module")"> + Add New Module </button>


<div id="modal-zone"></div>


<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title text-center w-100" id="exampleModalLongTitle">Delete</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="exit-modal">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body text-center w-100">
                This module will be permanently deleted, are you sure?
            </div>
            <div class="modal-footer">
                <div class="col text-center">
                    <button type="button" class="button--save" data-dismiss="modal" id="exit-modal">Cancel</button>
                    <button type="button" class="button--save" id="del-confirm">Delete</button>
                </div>
            </div>
        </div>
    </div>
</div>