@model Quizard.ViewModels.CreateQuizViewModel

@*NEW JS SORTABLE ACCORDION*@

<div class="flex-container">

<div class="controls">
@*<a class="btn btn-primary" href="@Url.Action("Update", "Quiz")">Save</a>*@

<h4 class="quizName"> @Model.Quiz.QuizName </h4>

<div class="input-group">
    <input type="text" class="input" id="Email" name="Email" placeholder="Add Section" autocomplete="off">
    <input class="button--add" value="Add" type="submit">
</div>

<input class="button--save" value="Save Quiz" type="submit">

</div>


<div class="quiz-wrapper">
    @*sections*@
    @foreach (var Qsection in Model.Sections.Where(i => i.QuizId.Equals(Model.Quiz.Id)))
    {
        <div class="accordion-section-item">
            <button class="accordion-section-button"> <strong> @Qsection.SectionName </strong> </button>
            <div class="accordion-section-collapse ">
                <div class="accordion-section-body">
                    @*questions *@
                    <div class="accordion-question">
                        @foreach (var question in Model.Questions.Where(i => i.SectionId.Equals(Qsection.Id)))
                        {
                            <div class="accordion-question-item" draggable="true">
                                <button class="accordion-question-button"> @question.QuestionTitle </button>
                                <div class="accordion-question-collapse collapse">
                                    <div class="accordion-question-body">
                                        @*answers*@
                                        <ol>
                                            @foreach (var answer in Model.Answers.Where(i => i.QuestionId.Equals(question.Id)))
                                            {
                                                <li> @answer.QuestionAnswer </li>
                                            }
                                        </ol>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    }
</div>

</div>